{% extends "base.html" %}
{% block content %}
<div class="container mx-auto px-4 py-12 text-center">
  <div class="max-w-lg mx-auto bg-white rounded-lg shadow p-8">
    {% if order %}
      {% if paid %}
        <h1 class="text-2xl font-bold mb-3 text-green-600">Merci !</h1>
        <p>Votre paiement a été confirmé pour la commande #{{ order.id }}.</p>
      {% else %}
        <h1 class="text-2xl font-bold mb-3">Merci !</h1>
        <p>Nous avons bien reçu votre retour de Stripe. Nous attendons la confirmation du paiement…</p>
      {% endif %}
      <div class="mt-6 text-left">
        <h2 class="font-semibold mb-2">Détails :</h2>
        <ul class="space-y-1">
          {% for item in order.items.all %}
          <li>{{ item.quantity }}× {{ item.product.name }} — {{ item.price }} €</li>
          {% endfor %}
        </ul>
        <div class="mt-3 font-bold">Total : {{ order.total }} €</div>
      </div>
    {% else %}
      <h1 class="text-2xl font-bold mb-3">Commande introuvable</h1>
      <p>Il semble que la commande n’ait pas pu être identifiée.</p>
    {% endif %}
    <a href="{% url 'product_list' %}" class="inline-block mt-8 px-6 py-3 bg-blue-600 text-white rounded-md hover:bg-blue-700">
      Retour à la boutique
    </a>
  </div>
</div>
{% endblock %}
